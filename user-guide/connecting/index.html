
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../introduction/">
      
      
        <link rel="next" href="../data/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Connecting to Cirrus - Cirrus User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/cirrus.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-3T9RVR5FTP"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-3T9RVR5FTP",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-3T9RVR5FTP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#connecting-to-cirrus" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Cirrus User Documentation" class="md-header__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cirrus User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Connecting to Cirrus
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cirrus User Documentation" class="md-nav__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    Cirrus User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../e1000-migration" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cirrus migration to E1000 system
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Connecting to Cirrus
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Connecting to Cirrus
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#access-credentials-mfa" class="md-nav__link">
    <span class="md-ellipsis">
      Access credentials: MFA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Access credentials: MFA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh-key-pairs" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Key Pairs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-public-part-of-key-pair-to-safe" class="md-nav__link">
    <span class="md-ellipsis">
      Upload public part of key pair to SAFE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-based-one-time-passcode-totp-code" class="md-nav__link">
    <span class="md-ellipsis">
      Time-based one-time passcode (TOTP code)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-clients" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Clients
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH Clients">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logging-in-from-linux-and-macos" class="md-nav__link">
    <span class="md-ellipsis">
      Logging in from Linux and MacOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-in-from-windows-using-mobaxterm" class="md-nav__link">
    <span class="md-ellipsis">
      Logging in from Windows using MobaXterm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Host Keys
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Host Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logincirrusacuk" class="md-nav__link">
    <span class="md-ellipsis">
      login.cirrus.ac.uk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-access-more-convenient-using-the-ssh-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Making access more convenient using the SSH configuration file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-cirrus-from-more-than-1-machine" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Cirrus from more than 1 machine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-forwarding-to-use-cirrus-from-a-second-remote-machine" class="md-nav__link">
    <span class="md-ellipsis">
      SSH forwarding (to use Cirrus from a second remote machine)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-debugging-tips" class="md-nav__link">
    <span class="md-ellipsis">
      SSH debugging tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH debugging tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#can-you-connect-to-the-login-node" class="md-nav__link">
    <span class="md-ellipsis">
      Can you connect to the login node?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-key" class="md-nav__link">
    <span class="md-ellipsis">
      SSH key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfa" class="md-nav__link">
    <span class="md-ellipsis">
      MFA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-verbose-output" class="md-nav__link">
    <span class="md-ellipsis">
      SSH verbose output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-shell-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Default shell environment
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Management and Transfer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File and Resource Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Development Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../batch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running Jobs on Cirrus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../singularity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Singularity Containers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using the Cirrus GPU Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solidstate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solid state storage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software Applications
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Software Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/castep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Castep
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/cp2k/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CP2K
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/elements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ELEMENTS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/flacs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FLACS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gaussian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gaussian
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gromacs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GROMACS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/helyx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HELYX&reg;
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/lammps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LAMMPS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/MATLAB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MATLAB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/namd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NAMD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/openfoam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenFOAM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/orca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ORCA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/qe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quantum Espresso (QE)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/starccm%2B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STAR-CCM+
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/vasp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VASP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software Libraries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Software Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/intel_mkl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intel MKL: BLAS, LAPACK, ScaLAPACK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hdf5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HDF5
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Software Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/forge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linaro Forge
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/scalasca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profiling using Scalasca
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/intel-vtune/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intel VTune
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References and further reading
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#access-credentials-mfa" class="md-nav__link">
    <span class="md-ellipsis">
      Access credentials: MFA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Access credentials: MFA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ssh-key-pairs" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Key Pairs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload-public-part-of-key-pair-to-safe" class="md-nav__link">
    <span class="md-ellipsis">
      Upload public part of key pair to SAFE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-based-one-time-passcode-totp-code" class="md-nav__link">
    <span class="md-ellipsis">
      Time-based one-time passcode (TOTP code)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-clients" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Clients
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH Clients">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logging-in-from-linux-and-macos" class="md-nav__link">
    <span class="md-ellipsis">
      Logging in from Linux and MacOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-in-from-windows-using-mobaxterm" class="md-nav__link">
    <span class="md-ellipsis">
      Logging in from Windows using MobaXterm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#host-keys" class="md-nav__link">
    <span class="md-ellipsis">
      Host Keys
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Host Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logincirrusacuk" class="md-nav__link">
    <span class="md-ellipsis">
      login.cirrus.ac.uk
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-access-more-convenient-using-the-ssh-configuration-file" class="md-nav__link">
    <span class="md-ellipsis">
      Making access more convenient using the SSH configuration file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-cirrus-from-more-than-1-machine" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Cirrus from more than 1 machine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-forwarding-to-use-cirrus-from-a-second-remote-machine" class="md-nav__link">
    <span class="md-ellipsis">
      SSH forwarding (to use Cirrus from a second remote machine)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-debugging-tips" class="md-nav__link">
    <span class="md-ellipsis">
      SSH debugging tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSH debugging tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#can-you-connect-to-the-login-node" class="md-nav__link">
    <span class="md-ellipsis">
      Can you connect to the login node?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-key" class="md-nav__link">
    <span class="md-ellipsis">
      SSH key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mfa" class="md-nav__link">
    <span class="md-ellipsis">
      MFA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-verbose-output" class="md-nav__link">
    <span class="md-ellipsis">
      SSH verbose output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-shell-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Default shell environment
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="connecting-to-cirrus">Connecting to Cirrus</h1>
<p>On the Cirrus system, interactive access can be achieved via SSH, either
directly from a command line terminal or using an SSH client. In
addition data can be transferred to and from the Cirrus system using
<code>scp</code> from the command line or by using a file transfer client.</p>
<p>Before following the process below, we assume you have set up an account
on Cirrus through the EPCC SAFE. Documentation on how to do this can be
found at:</p>
<p><a href="https://epcced.github.io/safe-docs/safe-for-users/">SAFE Guide for  Users</a></p>
<p>This section covers the basic connection methods.</p>
<h2 id="access-credentials-mfa">Access credentials: MFA</h2>
<p>To access Cirrus, you need to use two credentials (this is known as <em>multi-factor authentication</em>
or <em>MFA</em>): your SSH
key pair, protected by a passphrase, <strong>and</strong> a time-based one-time passcode (sometimes
known as a <em>TOTP code</em>). You 
can find more detailed instructions on
how to set up your credentials to access Cirrus from Windows, macOS and Linux
below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first time you log into a new account you will also need to enter a one-time
password from SAFE. This is described in more detail below.</p>
</div>
<h3 id="ssh-key-pairs">SSH Key Pairs</h3>
<p>You will need to generate an SSH key pair protected by a passphrase to
access Cirrus.</p>
<p>Using a terminal (the command line), set up a key pair that contains
your e-mail address and enter a passphrase you will use to unlock the
key:</p>
<pre><code>$ ssh-keygen -t rsa -C "your@email.com"
...
-bash-4.1$ ssh-keygen -t rsa -C "your@email.com"
Generating public/private rsa key pair.
Enter file in which to save the key (/Home/user/.ssh/id_rsa): [Enter]
Enter passphrase (empty for no passphrase): [Passphrase]
Enter same passphrase again: [Passphrase]
Your identification has been saved in /Home/user/.ssh/id_rsa.
Your public key has been saved in /Home/user/.ssh/id_rsa.pub.
The key fingerprint is:
03:d4:c4:6d:58:0a:e2:4a:f8:73:9a:e8:e3:07:16:c8 your@email.com
The key's randomart image is:
+--[ RSA 2048]----+
|    . ...+o++++. |
| . . . =o..      |
|+ . . .......o o |
|oE .   .         |
|o =     .   S    |
|.    +.+     .   |
|.  oo            |
|.  .             |
| ..              |
+-----------------+
</code></pre>
<p>(remember to replace "<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#121;&#111;&#117;&#114;&#64;&#101;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&#121;&#111;&#117;&#114;&#64;&#101;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a>" with your e-mail address).</p>
<h3 id="upload-public-part-of-key-pair-to-safe">Upload public part of key pair to SAFE</h3>
<p>You should now upload the public part of your SSH key pair to the SAFE
by following the instructions at:</p>
<p><a href="https://safe.epcc.ed.ac.uk/">Login to SAFE</a>. Then:</p>
<ol>
<li>Go to the Menu <em>Login accounts</em> and select the Cirrus account you want to add the SSH key to</li>
<li>On the subsequent Login account details page click the <em>Add     Credential</em> button</li>
<li>Select <em>SSH public key</em> as the Credential Type and click <em>Next</em></li>
<li>Either copy and paste the public part of your SSH key into the    <em>SSH Public key</em> box or use the button to select the public key    file on your computer.</li>
<li>Click <em>Add</em> to associate the public SSH key part with your account</li>
</ol>
<p>Once you have done this, your SSH key will be added to your Cirrus
account.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can upload multiple public keys to SAFE to associate with your login account. This 
can be helpful if you want to log into Cirrus from multiple machines - you can have a different
SSH key pair on each machine.</p>
</div>
<h3 id="time-based-one-time-passcode-totp-code">Time-based one-time passcode (TOTP code)</h3>
<p>Remember, you will need to use both an SSH key and time-based one-time passcode (TOTP code) to log into Cirrus so you will
also need to <a href="https://epcced.github.io/safe-docs/safe-for-users/#how-to-turn-on-mfa-on-your-machine-account">set up a method for generating a TOTP code</a>
before you can log into Cirrus. </p>
<!--

### First login: password required

!!! Important
    You will **not** use your password when logging on to Cirrus after the first login for a new account.

As an additional security measure, you will also need to use a password from SAFE for your first login to Cirrus
with a new account. When you log into Cirrus for the first time with a new account, you will be prompted to change
your initial password. This is a three step process:

1.  When promoted to enter your *ldap password*: Enter the password  which you [retrieve from SAFE](https://epcced.github.io/safe-docs/safe-for-users/#how-can-i-pick-up-my-password-for-the-service-machine)
2.  When prompted to enter your new password: type in a new password
3.  When prompted to re-enter the new password: re-enter the new password

Your password has now been changed. You will no longer need this password to log into Cirrus from this point
forwards, you will use your SSH key and TOTP code as described above.

-->

<h2 id="ssh-clients">SSH Clients</h2>
<p>Interaction with Cirrus is done remotely, over an encrypted
communication channel, Secure Shell version 2 (SSH-2). This allows
command-line access to one of the login nodes of a Cirrus, from which
you can run commands or use a command-line text editor to edit files.
SSH can also be used to run graphical programs such as GUI text editors
and debuggers when used in conjunction with an X client.</p>
<h3 id="logging-in-from-linux-and-macos">Logging in from Linux and MacOS</h3>
<p>Linux distributions and MacOS each come installed with a terminal
application that can be use for SSH access to the login nodes. Linux
users will have different terminals depending on their distribution and
window manager (e.g. GNOME Terminal in GNOME, Konsole in KDE). Consult
your Linux distribution's documentation for details on how to load a
terminal.</p>
<p>MacOS users can use the Terminal application, located in the Utilities
folder within the Applications folder.</p>
<p>You can use the following command from the terminal window to login into
Cirrus:</p>
<pre><code>ssh username@login.cirrus.ac.uk
</code></pre>
<p>You will first be prompted for the passphrase associated with your SSH
key pair. Once you have entered your passphrase successfully, you will
then be prompted for your password. You need to enter both correctly to
be able to access Cirrus.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your SSH key pair is not stored in the default location (usually <code>~/.ssh/id_rsa</code>) on your local system, you may need to specify the path to the private part of the key with the <code>-i</code> option to <code>ssh</code>. For example, if your key is in a file called <code>keys/id_rsa_cirrus</code> you would use the command <code>ssh -i keys/id_rsa_cirrus username@login.cirrus.ac.uk</code> to log in.</p>
</div>
<p>To allow remote programs, especially graphical applications to control
your local display, such as being able to open up a new GUI window (such
as for a debugger), use:</p>
<pre><code>ssh -X username@login.cirrus.ac.uk
</code></pre>
<p>Some sites recommend using the <code>-Y</code> flag. While this can fix some
compatibility issues, the <code>-X</code> flag is more secure.</p>
<p>Current MacOS systems do not have an X window system. Users should
install the XQuartz package to allow for SSH with X11 forwarding on
MacOS systems:</p>
<ul>
<li><a href="http://www.xquartz.org/">XQuartz website</a></li>
</ul>
<h3 id="logging-in-from-windows-using-mobaxterm">Logging in from Windows using MobaXterm</h3>
<p>A typical Windows installation will not include a terminal client,
though there are various clients available. We recommend all our Windows
users to download and install MobaXterm to access Cirrus. It is very
easy to use and includes an integrated X server with SSH client to run
any graphical applications on Cirrus.</p>
<p>You can download MobaXterm Home Edition (Installer Edition) from the
following link:</p>
<ul>
<li><a href="http://mobaxterm.mobatek.net/download-home-edition.html">Install
  MobaXterm</a></li>
</ul>
<p>Double-click the downloaded Microsoft Installer file (.msi), and the
Windows wizard will automatically guides you through the installation
process. Note, you might need to have administrator rights to install on
some Windows OS. Also make sure to check whether Windows Firewall hasn't
blocked any features of this program after installation.</p>
<p>Start MobaXterm using, for example, the icon added to the Start menu
during the installation process.</p>
<p>If you would like to run any small remote GUI applications, then make
sure to use -X option along with the ssh command (see above) to enable
X11 forwarding, which allows you to run graphical clients on your local
X server.</p>
<h2 id="host-keys">Host Keys</h2>
<p>Adding the host keys to your SSH configuration file provides an extra level of security for your connections to Cirrus. The host keys are checked against the login nodes when you login to Cirrus and if the remote server key does not match the one in the configuration file, the connection will be refused. This provides protection against potential malicious servers masquerading as the Cirrus login nodes.</p>
<h3 id="logincirrusacuk">login.cirrus.ac.uk</h3>
<div class="highlight"><pre><span></span><code>login.cirrus.ac.uk ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBOXYXQEFJfIBZRadNjVU9T0bYVlssht4Qz9Urliqor3L+S8rQojSQtPAjsxxgtD/yeaUWAaBZnXcbPFl2/uFPro=

login.cirrus.ac.uk ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC4YJNc0yYfUPtiApGzzkwTYxUhFB1q1G2/vO8biwDL4W0LOcaBFCNTVst1IXQ6tZ9l0GfvlmYTb1LHYoTYLn5CyUL5KKS7X4FkhM9n2EExy/WK+H7kOvOwnWEAWM3GOwPYfhPWdddIHO7cI3CTd1kAL3NVzlt/yvx0CKGtw2QyL9gLGPJ23soDlIJYp/OC/f7E6U+JM6jx8QshQn0PiBPN3gB9MLWNX7ZsYXaSafIw1/txoh7D7CawsTrlKEHgEyNpQIgZFR7pLYlydRijbWEtD40DxlgaF1l/OuJrBfddRXC7VYHNvHq0jv0HCncCjxcHZmr3FW9B3PuRvBeWJpzV6Bv2pLGTPPwd8p7QgkAmTQ1Ews/Q4giUboZyqRcJAkFQtOBCmv43+qxWXKMAB7OdbjJL2oO9UIfPtUmE6oj+rnPxpJMhJuQX2aHIlS0Mev7NzaTUpQqNa4QgsI7Kj/m2JT0ZfQ0I33NO10Z3PLZghKqhTH5yy+2nSYLK6rnxZLU=

login.cirrus.ac.uk ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIFk4UnY1DaS+LFSS8AFKbmAmlevxShN4hGpn+gGGX8Io
</code></pre></div>
<p>Host key verification can fail if this key is out of date, a problem which can be fixed by removing the offending entry in <code>~/.ssh/known_hosts</code> and replacing it with the new key published here.  We recommend users should check this page for any key updates and not just accept a new key from the server without confirmation.</p>
<h2 id="making-access-more-convenient-using-the-ssh-configuration-file">Making access more convenient using the SSH configuration file</h2>
<p>Typing in the full command to login or transfer data to Cirrus can
become tedious as it often has to be repeated many times. You can use
the SSH configuration file, usually located on your local machine at
<code>.ssh/config</code> to make things a bit more convenient.</p>
<p>Each remote site (or group of sites) can have an entry in this file
which may look something like:</p>
<pre><code>Host cirrus
  HostName login.cirrus.ac.uk
  User username
</code></pre>
<p>(remember to replace <code>username</code> with your actual username!).</p>
<p>The <code>Host cirrus</code> line defines a short name for the entry. In this case,
instead of typing <code>ssh username@login.cirrus.ac.uk</code> to access the Cirrus
login nodes, you could use <code>ssh cirrus</code> instead. The remaining lines
define the options for the <code>cirrus</code> host.</p>
<ul>
<li><code>Hostname login.cirrus.ac.uk</code> - defines the full address of the host</li>
<li><code>User username</code> - defines the username to use by default for this host (replace <code>username</code> with your own username on the remote host)</li>
</ul>
<p>Now you can use SSH to access Cirrus without needing to enter your
username or the full hostname every time:</p>
<pre><code>-bash-4.1$ ssh cirrus
</code></pre>
<p>You can set up as many of these entries as you need in your local
configuration file. Other options are available. See the ssh_config man
page (or <code>man ssh_config</code> on any machine with SSH installed) for a
description of the SSH configuration file. You may find the
<code>IdentityFile</code> option useful if you have to manage multiple SSH key
pairs for different systems as this allows you to specify which SSH key
to use for each system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is a known bug with Windows ssh-agent. If you get the error message:
<code>Warning:  agent returned different signature type ssh-rsa (expected rsa-sha2-512)</code>,
you will need to either specify the path to your ssh key in the command
line (using the <code>-i</code> option as described above) or add the path to your
SSH config file by using the <code>IdentityFile</code> option.</p>
</div>
<h2 id="accessing-cirrus-from-more-than-1-machine">Accessing Cirrus from more than 1 machine</h2>
<p>It is common for users to want to access Cirrus from more than one local
machine (e.g. a desktop linux, and a laptop) - this can be achieved
by adding multiple public keys to your account through SAFE
as described above.</p>
<h2 id="ssh-forwarding-to-use-cirrus-from-a-second-remote-machine">SSH forwarding (to use Cirrus from a second remote machine)</h2>
<p>If you want to access Cirrus from a machine you already access remotely
(e.g. to copy data from Cirrus onto a different cluster), you can
<em>forward</em> your local Cirrus SSH keys so that you don't need to create a
new key pair on the intermediate machine.</p>
<p>If your local machine is MacOS or Linus, add your Cirrus SSH key to the
SSH Agent:</p>
<pre><code>eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_rsa
</code></pre>
<p>(If you created your key with a different name, replace <code>id_rsa</code> in the
command with the name of your private key file). You will be prompted
for your SSH key's passphrase.</p>
<p>You can then use the <code>-A</code> flag when connecting to your intermediate
cluster:</p>
<pre><code>ssh -A &lt;user&gt;@&lt;host&gt;
</code></pre>
<p>Once on the intermediate cluster, you should be able to SSH to Cirrus
directly:</p>
<pre><code>ssh &lt;user&gt;@login.cirrus.ac.uk
</code></pre>
<h2 id="ssh-debugging-tips">SSH debugging tips</h2>
<p>If you find you are unable to connect via SSH there are a number of ways
you can try and diagnose the issue. Some of these are collected below -
if you are having difficulties connecting we suggest trying these before
contacting the Cirrus service desk.</p>
<h3 id="can-you-connect-to-the-login-node">Can you connect to the login node?</h3>
<p>Try the command <code>ping -c 3 login.cirrus.ac.uk</code>. If you successfully
connect to the login node, the output should include:</p>
<pre><code>--- login.dyn.cirrus.ac.uk ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 38ms
</code></pre>
<p>(the ping time '38ms' is not important). If not all packets are received
there could be a problem with your internet connection, or the login
node could be unavailable.</p>
<h3 id="ssh-key">SSH key</h3>
<p>If you get the error message <code>Permission denied (publickey)</code> this can
indicate a problem with your SSH key. Some things to check:</p>
<ul>
<li>
<p>Have you uploaded the key to SAFE? Please note that if the same key
   is reuploaded SAFE will not map the "new" key to cirrus. If for some
  reason this is required, please delete the key first, then reupload.</p>
</li>
<li>
<p>Is ssh using the correct key? You can check which keys are being
  found and offered by ssh using <code>ssh -vvv</code>. If your private key has a
  non-default name you can use the <code>-i</code> flag to provide it to ssh,
   i.e. <code>ssh -i path/to/key username@login.cirrus.ac.uk</code>.</p>
</li>
<li>
<p>Are you entering the passphrase correctly? You will be asked for
   your private key's passphrase first. If you enter it incorrectly you
   will usually be asked to enter it again, and usually up to three
   times in total, after which ssh will fail with
   <code>Permission denied (publickey)</code>. If you would like to confirm your
   passphrase without attempting to connect, you can use
   <code>ssh-keygen -y -f /path/to/private/key</code>. If successful, this command
  will print the corresponding public key. You can also use this to
   check it is the one uploaded to SAFE.</p>
</li>
<li>
<p>Are permissions correct on the ssh key? One common issue is that the
   permissions are incorrect on the either the key file, or the
   directory it's contained in. On Linux/MacOS for example, if your
   private keys are held in <code>~/.ssh/</code> you can check this with
   <code>ls -al ~/.ssh</code>. This should give something similar to the following
   output:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>    $ ls -al ~/.ssh/
    drwx------.  2 user group    48 Jul 15 20:24 .
    drwx------. 12 user group  4096 Oct 13 12:11 ..
    -rw-------.  1 user group   113 Jul 15 20:23 authorized_keys
    -rw-------.  1 user group 12686 Jul 15 20:23 id_rsa
    -rw-r--r--.  1 user group  2785 Jul 15 20:23 id_rsa.pub
    -rw-r--r--.  1 user group  1967 Oct 13 14:11 known_hosts
</code></pre></div>
<p>The important section here is the string of letters and dashes at
   the start, for the lines ending in <code>.</code>, <code>id_rsa</code>, and <code>id_rsa.pub</code>,
   which indicate permissions on the containing directory, private key,
   and public key respectively. If your permissions are not correct,
   they can be set with <code>chmod</code>. Consult the table below for the
   relevant <code>chmod</code> command. On Windows, permissions are handled
   differently but can be set by right-clicking on the file and
   selecting Properties &gt; Security &gt; Advanced. The user, SYSTEM, and
   Administrators should have <code>Full control</code>, and no other permissions
   should exist for both public and private key files, and the
   containing folder.</p>
<table>
<thead>
<tr>
<th>Target</th>
<th>Permissions</th>
<th>chmod Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Directory</td>
<td>drwx------</td>
<td>700</td>
</tr>
<tr>
<td>Private Key</td>
<td>-rw-------</td>
<td>600</td>
</tr>
<tr>
<td>Public Key</td>
<td>-rw-r--r--</td>
<td>644</td>
</tr>
</tbody>
</table>
<p><code>chmod</code> can be used to set permissions on the target in the following
way: <code>chmod &lt;code&gt; &lt;target&gt;</code>. So for example to set correct permissions
on the private key file <code>id_rsa_cirrus</code> one would use the command
<code>chmod 600 id_rsa_cirrus</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unix file permissions can be understood in the following way. There are three groups that can have file permissions: (owning) <em>users</em>, (owning)     <em>groups</em>, and <em>others</em>. The available permissions are <em>read</em>, <em>write</em>,    and <em>execute</em>. </p>
<p>The first character indicates whether the target is a    file <code>-</code>, or directory <code>d</code>. The next three characters indicate the owning user's permissions. The first character is <code>r</code> if they have read permission, <code>-</code> if they don't, the second character is <code>w</code> if they have write permission, <code>-</code> if they don't, the third character is <code>x</code> if they have execute permission, <code>-</code> if they don't. This pattern is then repeated for <em>group</em>, and <em>other</em> permissions. </p>
<p>For example the pattern <code>-rw-r--r--</code> indicates that the owning user can read and write the file, members of the owning group can read it, and anyone else can also read it. The <code>chmod</code> codes are constructed by treating the user, group, and owner permission strings as binary numbers, then converting them to decimal. For example the permission string <code>-rwx------</code> becomes <code>111 000 000</code> -&gt; <code>700</code>.</p>
</div>
<h3 id="mfa">MFA</h3>
<p>If your TOTP passcode is being consistently rejected, you can <a href="https://epcced.github.io/safe-docs/safe-for-users/#mfa_off">remove MFA from your account</a> and then <a href="https://epcced.github.io/safe-docs/safe-for-users/#mfa">re-enable it</a>.</p>
<h3 id="ssh-verbose-output">SSH verbose output</h3>
<p>Verbose debugging output from <code>ssh</code> can be very useful for diagnosing
the issue. In particular, it can be used to distinguish between problems
with the SSH key and password - further details are given below. To
enable verbose output add the <code>-vvv</code> flag to your SSH command. For
example:</p>
<pre><code>ssh -vvv username@login.cirrus.ac.uk
</code></pre>
<p>The output is lengthy, but somewhere in there you should see lines
similar to the following:</p>
<pre><code>debug1: Next authentication method: publickey
debug1: Offering public key: RSA SHA256:&lt;key-hash&gt; &lt;path_to_private_key&gt;
debug3: send_pubkey_test
debug3: send packet: type 50
debug2: we sent a publickey packet, wait for reply
debug3: receive packet: type 60
debug1: Server accepts key: pkalg ssh-rsa vlen 2071
debug2: input_userauth_pk_ok: fp SHA256:&lt;key-hash&gt;
debug3: sign_and_send_pubkey: RSA SHA256:&lt;key-hash&gt;
Enter passphrase for key '&lt;path_to_private_key&gt;':
debug3: send packet: type 50
debug3: receive packet: type 51
Authenticated with partial success.
</code></pre>
<p>Most importantly, you can see which files ssh has checked for private
keys, and you can see if any key is accepted. The line
<code>Authenticated with partial success</code> indicates that the SSH key has been
accepted, and you will next be asked for your password. By default ssh
will go through a list of standard private key files, as well as any you
have specified with <code>-i</code> or a config file. This is fine, as long as one
of the files mentioned is the one that matches the public key uploaded
to SAFE.</p>
<p>If you do not see <code>Authenticated with partial success</code> anywhere in the
verbose output, consider the suggestions under <em>SSH key</em> above. If you
do, but are unable to connect, consider the suggestions under <em>Password</em>
above.</p>
<p>The equivalent information can be obtained in PuTTY or MobaXterm by
enabling all logging in settings.</p>
<h2 id="default-shell-environment">Default shell environment</h2>
<p>Usually, when a new login shell is created, the commands on
<code>$HOME/.bashrc</code> are executed. This tipically includes setting
user-defined alias, changing environment variables, and, in the case of
an HPC system, loading modules.</p>
<p>Cirrus does not currently read the <code>$HOME/.bashrc</code> file, but it does
read the <code>$HOME/.bash_profile</code> file, so, if you wish to read a
<code>$HOME/.bashrc</code> file, you can add the following to your
<code>$HOME/.bash_profile</code> file (or create one, if it doesn't exist):</p>
<pre><code># $HOME/.bash_profile
# load $HOME/.bashrc, if it exists
if [ -f $HOME/.bashrc ]; then
        . $HOME/.bashrc
fi
</code></pre>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/EPCCed" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>