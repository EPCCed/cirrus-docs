
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../data/">
      
      
        <link rel="next" href="../development/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>File and Resource Management - Cirrus User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/cirrus.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-3T9RVR5FTP"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-3T9RVR5FTP",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-3T9RVR5FTP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#file-and-resource-management" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Cirrus User Documentation" class="md-header__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cirrus User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              File and Resource Management
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cirrus User Documentation" class="md-nav__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    Cirrus User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../e1000-migration" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cirrus migration to E1000 system
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecting to Cirrus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Management and Transfer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    File and Resource Management
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    File and Resource Management
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-cirrus-administration-web-site-safe" class="md-nav__link">
    <span class="md-ellipsis">
      The Cirrus Administration Web Site (SAFE)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-your-cpugpu-time-allocations" class="md-nav__link">
    <span class="md-ellipsis">
      Checking your CPU/GPU time allocations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disk-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      Disk quotas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-policies" class="md-nav__link">
    <span class="md-ellipsis">
      Backup policies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-data-with-other-cirrus-users" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing data with other Cirrus users
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sharing data with other Cirrus users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sharing-data-with-cirrus-users-in-your-project" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing data with Cirrus users in your project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing-data-with-all-cirrus-users" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing data with all Cirrus users
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-permissions-and-security" class="md-nav__link">
    <span class="md-ellipsis">
      File permissions and security
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-types" class="md-nav__link">
    <span class="md-ellipsis">
      File types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ascii-or-formatted-files" class="md-nav__link">
    <span class="md-ellipsis">
      ASCII (or formatted) files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binary-or-unformatted-files" class="md-nav__link">
    <span class="md-ellipsis">
      Binary (or unformatted) files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-io-performance-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      File IO Performance Guidelines
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-io-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Common I/O patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common I/O patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-file-single-writer-serial-io" class="md-nav__link">
    <span class="md-ellipsis">
      Single file, single writer (Serial I/O)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-per-process-fpp" class="md-nav__link">
    <span class="md-ellipsis">
      File-per-process (FPP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-file-multiple-writers-without-collective-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Single file, multiple writers without collective operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-shared-file-with-collective-writes-ssf" class="md-nav__link">
    <span class="md-ellipsis">
      Single Shared File with collective writes (SSF)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#achieving-efficient-io" class="md-nav__link">
    <span class="md-ellipsis">
      Achieving efficient I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Achieving efficient I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lustre" class="md-nav__link">
    <span class="md-ellipsis">
      Lustre
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#striping" class="md-nav__link">
    <span class="md-ellipsis">
      Striping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Striping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Default configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-custom-striping-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Custom Striping Configurations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Development Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Jobs on Cirrus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../singularity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Singularity Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the Cirrus GPU Nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solidstate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solid state storage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Applications
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Software Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/castep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Castep
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/cp2k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CP2K
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/elements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ELEMENTS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/flacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FLACS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gaussian/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gaussian
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gromacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GROMACS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/helyx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HELYX&reg;
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/lammps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LAMMPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/MATLAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MATLAB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/namd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NAMD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/openfoam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/orca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ORCA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/qe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quantum Espresso (QE)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/starccm%2B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STAR-CCM+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/vasp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VASP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Software Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/intel_mkl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intel MKL: BLAS, LAPACK, ScaLAPACK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hdf5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HDF5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Software Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/forge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linaro Forge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/scalasca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling using Scalasca
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/intel-vtune/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intel VTune
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References and further reading
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-cirrus-administration-web-site-safe" class="md-nav__link">
    <span class="md-ellipsis">
      The Cirrus Administration Web Site (SAFE)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checking-your-cpugpu-time-allocations" class="md-nav__link">
    <span class="md-ellipsis">
      Checking your CPU/GPU time allocations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disk-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      Disk quotas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-policies" class="md-nav__link">
    <span class="md-ellipsis">
      Backup policies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-data-with-other-cirrus-users" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing data with other Cirrus users
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sharing data with other Cirrus users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sharing-data-with-cirrus-users-in-your-project" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing data with Cirrus users in your project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing-data-with-all-cirrus-users" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing data with all Cirrus users
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-permissions-and-security" class="md-nav__link">
    <span class="md-ellipsis">
      File permissions and security
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-types" class="md-nav__link">
    <span class="md-ellipsis">
      File types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ascii-or-formatted-files" class="md-nav__link">
    <span class="md-ellipsis">
      ASCII (or formatted) files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binary-or-unformatted-files" class="md-nav__link">
    <span class="md-ellipsis">
      Binary (or unformatted) files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-io-performance-guidelines" class="md-nav__link">
    <span class="md-ellipsis">
      File IO Performance Guidelines
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-io-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Common I/O patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common I/O patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#single-file-single-writer-serial-io" class="md-nav__link">
    <span class="md-ellipsis">
      Single file, single writer (Serial I/O)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-per-process-fpp" class="md-nav__link">
    <span class="md-ellipsis">
      File-per-process (FPP)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-file-multiple-writers-without-collective-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Single file, multiple writers without collective operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#single-shared-file-with-collective-writes-ssf" class="md-nav__link">
    <span class="md-ellipsis">
      Single Shared File with collective writes (SSF)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#achieving-efficient-io" class="md-nav__link">
    <span class="md-ellipsis">
      Achieving efficient I/O
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Achieving efficient I/O">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lustre" class="md-nav__link">
    <span class="md-ellipsis">
      Lustre
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#striping" class="md-nav__link">
    <span class="md-ellipsis">
      Striping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Striping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Default configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-custom-striping-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Custom Striping Configurations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="file-and-resource-management">File and Resource Management</h1>
<p>This section covers some of the tools and technical knowledge that will
be key to maximising the usage of the Cirrus system, such as the online
administration tool SAFE and calculating the CPU-time available.</p>
<p>The default file permissions are then outlined, along with a description
of changing these permissions to the desired setting. This leads on to
the sharing of data between users and systems often a vital tool for
project groups and collaboration.</p>
<p>Finally we cover some guidelines for I/O and data archiving on Cirrus.</p>
<h2 id="the-cirrus-administration-web-site-safe">The Cirrus Administration Web Site (SAFE)</h2>
<p>All users have a login and password on the Cirrus Administration Web
Site (also know as the 'SAFE'): <a href="https://safe.epcc.ed.ac.uk/">SAFE</a>.
Once logged into this web site, users can find out much about their
usage of the Cirrus system, including:</p>
<ul>
<li>Account details - password reset, change contact details</li>
<li>Project details - project code, start and end dates</li>
<li>CPUh balance - how much time is left in each project you are a member
  of</li>
<li>Filesystem details - current usage and quotas</li>
<li>Reports - generate reports on your usage over a specified period,
  including individual job records</li>
<li>Helpdesk - raise queries and track progress of open queries</li>
</ul>
<h2 id="checking-your-cpugpu-time-allocations">Checking your CPU/GPU time allocations</h2>
<p>You can view these details by logging into the SAFE
(<a href="https://safe.epcc.ed.ac.uk">https://safe.epcc.ed.ac.uk</a>).</p>
<p>Use the <em>Login accounts</em> menu to select the user account that you wish
to query. The page for the login account will summarise the resources
available to account.</p>
<p>You can also generate reports on your usage over a particular period and
examine the details of how many CPUh or GPUh individual jobs on the
system cost. To do this use the <em>Service information</em> menu and selet
<em>Report generator</em>.</p>
<h2 id="disk-quotas">Disk quotas</h2>
<p>Disk quotas on Cirrus are managed via <a href="https://safe.epcc.ed.ac.uk">SAFE</a></p>
<p>For live disk usage figures on the Lustre <code>/work</code> file system, use</p>
<pre><code>lfs quota -hu &lt;username&gt; /work

lfs quota -hg &lt;groupname&gt; /work
</code></pre>
<h2 id="backup-policies">Backup policies</h2>
<p>The <code>/home</code> file system is not backed up.</p>
<p>The <code>/work</code> file system is not backed up.</p>
<p>The solid-state storage <code>/scratch/space1</code> file system is not backed up.</p>
<p>We strongly advise that you keep copies of any critical data on on an
alternative system that is fully backed up.</p>
<h2 id="sharing-data-with-other-cirrus-users">Sharing data with other Cirrus users</h2>
<p>How you share data with other Cirrus users depends on whether or not
they belong to the same project as you. Each project has two shared
folders that can be used for sharing data.</p>
<h3 id="sharing-data-with-cirrus-users-in-your-project">Sharing data with Cirrus users in your project</h3>
<p>Each project has an inner shared folder on the <code>/home</code> and <code>/work</code>
filesystems:</p>
<pre><code>/home/[project code]/[project code]/shared

/work/[project code]/[project code]/shared
</code></pre>
<p>This folder has read/write permissions for all project members. You can
place any data you wish to share with other project members in this
directory. For example, if your project code is <code>x01</code> the inner shared
folder on the <code>/work</code> file system would be located at
<code>/work/x01/x01/shared</code>.</p>
<h3 id="sharing-data-with-all-cirrus-users">Sharing data with all Cirrus users</h3>
<p>Each project also has an outer shared folder on the <code>/home</code> and <code>/work</code>
filesystems:</p>
<pre><code>/home/[project code]/shared

/work/[project code]/shared
</code></pre>
<p>It is writable by all project members and readable by any user on the
system. You can place any data you wish to share with other Cirrus users
who are not members of your project in this directory. For example, if
your project code is <code>x01</code> the outer shared folder on the <code>/work</code> file
system would be located at <code>/work/x01/shared</code>.</p>
<h2 id="file-permissions-and-security">File permissions and security</h2>
<p>You should check the permissions of any files that you place in the
shared area, especially if those files were created in your own Cirrus
account. Files of the latter type are likely to be readable by you only.</p>
<p>The chmod command below shows how to make sure that a file placed in the
outer shared folder is also readable by all Cirrus users.</p>
<pre><code>chmod a+r /work/x01/shared/your-shared-file.txt
</code></pre>
<p>Similarly, for the inner shared folder, chmod can be called such that
read permission is granted to all users within the x01 project.</p>
<pre><code>chmod g+r /work/x01/x01/shared/your-shared-file.txt
</code></pre>
<p>If you're sharing a set of files stored within a folder hierarchy the
chmod is slightly more complicated.</p>
<pre><code>chmod -R a+Xr /work/x01/shared/my-shared-folder
chmod -R g+Xr /work/x01/x01/shared/my-shared-folder
</code></pre>
<p>The <code>-R</code> option ensures that the read permission is enabled recursively
and the <code>+X</code> guarantees that the user(s) you're sharing the folder with
can access the subdirectories below my-shared-folder.</p>
<p>Default Unix file permissions can be specified by the <code>umask</code> command.
The default umask value on Cirrus is 22, which provides "group" and
"other" read permissions for all files created, and "group" and "other"
read and execute permissions for all directories created. This is highly
undesirable, as it allows everyone else on the system to access (but at
least not modify or delete) every file you create. Thus it is strongly
recommended that users change this default umask behaviour, by adding
the command <code>umask 077</code> to their <code>$HOME/.profile</code> file. This umask
setting only allows the user access to any file or directory created.
The user can then selectively enable "group" and/or "other" access to
particular files or directories if required.</p>
<h2 id="file-types">File types</h2>
<h3 id="ascii-or-formatted-files">ASCII (or formatted) files</h3>
<p>These are the most portable, but can be extremely inefficient to read
and write. There is also the problem that if the formatting is not done
correctly, the data may not be output to full precision (or to the
subsequently required precision), resulting in inaccurate results when
the data is used. Another common problem with formatted files is FORMAT
statements that fail to provide an adequate range to accommodate future
requirements, e.g. if we wish to output the total number of processors,
NPROC, used by the application, the statement:</p>
<pre><code>WRITE (*,'I3') NPROC
</code></pre>
<p>will not work correctly if NPROC is greater than 999.</p>
<h3 id="binary-or-unformatted-files">Binary (or unformatted) files</h3>
<p>These are much faster to read and write, especially if an entire array
is read or written with a single READ or WRITE statement. However the
files produced may not be readable on other systems.</p>
<p>GNU compiler <code>-fconvert=swap</code> compiler option.<br />
This compiler option often needs to be used together with a second
option <code>-frecord-marker</code>, which specifies the length of record marker
(extra bytes inserted before or after the actual data in the binary
file) for unformatted files generated on a particular system. To read a
binary file generated by a big-endian system on Cirrus, use
<code>-fconvert=swap -frecord-marker=4</code>. Please note that due to the same
'length of record marker' reason, the unformatted files generated by GNU
and other compilers on Cirrus are not compatible. In fact, the same
WRITE statements would result in slightly larger files with GNU
compiler. Therefore it is recommended to use the same compiler for your
simulations and related pre- and post-processing jobs.</p>
<p>Other options for file formats include:</p>
<p>Direct access files<br />
Fortran unformatted files with specified record lengths. These may be
more portable between different systems than ordinary (i.e. sequential
IO) unformatted files, with significantly better performance than
formatted (or ASCII) files. The "endian" issue will, however, still be a
potential problem.</p>
<p>Portable data formats<br />
These machine-independent formats for representing scientific data are
specifically designed to enable the same data files to be used on a wide
variety of different hardware and operating systems. The most common
formats are:</p>
<ul>
<li>netCDF: <a href="http://www.unidata.ucar.edu/software/netcdf/">http://www.unidata.ucar.edu/software/netcdf/</a></li>
<li>HDF: <a href="http://www.hdfgroup.org/HDF5/">http://www.hdfgroup.org/HDF5/</a></li>
</ul>
<p>It is important to note that these portable data formats are evolving
standards, so make sure you are aware of which version of the
standard/software you are using, and keep up-to-date with any
backward-compatibility implications of each new release.</p>
<h2 id="file-io-performance-guidelines">File IO Performance Guidelines</h2>
<p>Here are some general guidelines</p>
<ul>
<li>Whichever data formats you choose, it is vital that you test that you
  can access your data correctly on all the different systems where it
  is required. This testing should be done as early as possible in the
  software development or porting process (i.e. before you generate lots
  of data from expensive production runs), and should be repeated with
  every major software upgrade.</li>
<li>Document the file formats and metadata of your important data files
  very carefully. The best documentation will include a copy of the
  relevant I/O subroutines from your code. Of course, this documentation
  must be kept up-to-date with any code modifications.</li>
<li>Use binary (or unformatted) format for files that will only be used on
  the Intel system, e.g. for checkpointing files. This will give the
  best performance. Binary files may also be suitable for larger output
  data files, if they can be read correctly on other systems.</li>
<li>Most codes will produce some human-readable (i.e. ASCII) files to
  provide some information on the progress and correctness of the
  calculation. Plan ahead when choosing format statements to allow for
  future code usage, e.g. larger problem sizes and processor counts.</li>
<li>If the data you generate is widely shared within a large community, or
  if it must be archived for future reference, invest the time and
  effort to standardise on a suitable portable data format, such as
  netCDF or HDF.</li>
</ul>
<h2 id="common-io-patterns">Common I/O patterns</h2>
<p>There is a number of I/O patterns that are frequently used in
applications:</p>
<h3 id="single-file-single-writer-serial-io">Single file, single writer (Serial I/O)</h3>
<p>A common approach is to funnel all the I/O through a single master
process. Although this has the advantage of producing a single file, the
fact that only a single client is doing all the I/O means that it gains
little benefit from the parallel file system.</p>
<h3 id="file-per-process-fpp">File-per-process (FPP)</h3>
<p>One of the first parallel strategies people use for I/O is for each
parallel process to write to its own file. This is a simple scheme to
implement and understand but has the disadvantage that, at the end of
the calculation, the data is spread across many different files and may
therefore be difficult to use for further analysis without a data
reconstruction stage.</p>
<h3 id="single-file-multiple-writers-without-collective-operations">Single file, multiple writers without collective operations</h3>
<p>There are a number of ways to achieve this. For example, many processes
can open the same file but access different parts by skipping some
initial offset; parallel I/O libraries such as MPI-IO, HDF5 and NetCDF
also enable this.</p>
<p>Shared-file I/O has the advantage that all the data is organised
correctly in a single file making analysis or restart more
straightforward.</p>
<p>The problem is that, with many clients all accessing the same file,
there can be a lot of contention for file system resources.</p>
<h3 id="single-shared-file-with-collective-writes-ssf">Single Shared File with collective writes (SSF)</h3>
<p>The problem with having many clients performing I/O at the same time is
that, to prevent them clashing with each other, the I/O library may have
to take a conservative approach. For example, a file may be locked while
each client is accessing it which means that I/O is effectively
serialised and performance may be poor.</p>
<p>However, if I/O is done collectively where the library knows that all
clients are doing I/O at the same time, then reads and writes can be
explicitly coordinated to avoid clashes. It is only through collective
I/O that the full bandwidth of the file system can be realised while
accessing a single file.</p>
<h2 id="achieving-efficient-io">Achieving efficient I/O</h2>
<p>This section provides information on getting the best performance out of
the <code>/work</code> parallel file system on Cirrus when writing data,
particularly using parallel I/O patterns.</p>
<p>You may find that using the <code>/user-guide/solidstate</code> gives better
performance than <code>/work</code> for some applications and IO patterns.</p>
<h3 id="lustre">Lustre</h3>
<p>The Cirrus <code>/work</code> file system use Lustre as a parallel file system
technology. The Lustre file system provides POSIX semantics (changes on
one node are immediately visible on other nodes) and can support very
high data rates for appropriate I/O patterns.</p>
<h3 id="striping">Striping</h3>
<p>One of the main factors leading to the high performance of <code>/work</code>
Lustre file systems is the ability to stripe data across multiple Object
Storage Targets (OSTs) in a round-robin fashion. Files are striped when
the data is split up in chunks that will then be stored on different
OSTs across the <code>/work</code> file system. Striping might improve the I/O
performance because it increases the available bandwidth since multiple
processes can read and write the same files simultaneously. However
striping can also increase the overhead. Choosing the right striping
configuration is key to obtain high performance results.</p>
<p>Users have control of a number of striping settings on Lustre file
systems. Although these parameters can be set on a per-file basis they
are usually set on directory where your output files will be written so
that all output files inherit the settings.</p>
<h4 id="default-configuration">Default configuration</h4>
<p>The file system on Cirrus has the following default stripe settings:</p>
<ul>
<li>A default stripe count of 1</li>
<li>A default stripe size of 1 MiB (1048576 bytes)</li>
</ul>
<p>These settings have been chosen to provide a good compromise for the
wide variety of I/O patterns that are seen on the system but are
unlikely to be optimal for any one particular scenario. The Lustre
command to query the stripe settings for a directory (or file) is
<code>lfs getstripe</code>. For example, to query the stripe settings of an already
created directory <code>res_dir</code>:</p>
<pre><code>$ lfs getstripe res_dir/
res_dir
stripe_count:   1 stripe_size:    1048576 stripe_offset:  -1
</code></pre>
<h4 id="setting-custom-striping-configurations">Setting Custom Striping Configurations</h4>
<p>Users can set stripe settings for a directory (or file) using the
<code>lfs setstripe</code> command. The options for <code>lfs setstripe</code> are:</p>
<ul>
<li><code>[--stripe-count|-c]</code> to set the stripe count; 0 means use the system
  default (usually 1) and -1 means stripe over all available OSTs.</li>
<li><code>[--stripe-size|-s]</code> to set the stripe size; 0 means use the system
  default (usually 1 MB) otherwise use k, m or g for KB, MB or GB
  respectively</li>
<li><code>[--stripe-index|-i]</code> to set the OST index (starting at 0) on which to
  start striping for this file. An index of -1 allows the MDS to choose
  the starting index and it is strongly recommended, as this allows
  space and load balancing to be done by the MDS as needed.</li>
</ul>
<p>For example, to set a stripe size of 4 MiB for the existing directory
<code>res_dir</code>, along with maximum striping count you would use:</p>
<pre><code>$ lfs setstripe -s 4m -c -1 res_dir/
</code></pre>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/EPCCed" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  </body>
</html>