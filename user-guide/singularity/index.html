
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../batch/">
      
      
        <link rel="next" href="../python/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Singularity Containers - Cirrus User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/cirrus.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-3T9RVR5FTP"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-3T9RVR5FTP",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-3T9RVR5FTP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#singularity-containers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Cirrus User Documentation" class="md-header__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cirrus User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Singularity Containers
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cirrus User Documentation" class="md-nav__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    Cirrus User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../e1000-migration" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cirrus migration to E1000 system
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connecting to Cirrus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Management and Transfer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource_management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File and Resource Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Development Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../batch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running Jobs on Cirrus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Singularity Containers
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Singularity Containers
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#useful-links" class="md-nav__link">
    <span class="md-ellipsis">
      Useful Links
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-singularity-containers-images" class="md-nav__link">
    <span class="md-ellipsis">
      About Singularity Containers (Images)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-singularity-images-on-cirrus" class="md-nav__link">
    <span class="md-ellipsis">
      Using Singularity Images on Cirrus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Singularity Images on Cirrus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-existing-images-onto-cirrus" class="md-nav__link">
    <span class="md-ellipsis">
      Getting existing images onto Cirrus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-login-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the login nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the compute nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serial-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Serial processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallel-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Parallel processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-your-own-singularity-images" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Your Own Singularity Images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Your Own Singularity Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-singularity-on-your-local-machine" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Singularity on Your Local Machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-cirrus-modules-from-inside-a-container" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Cirrus Modules from Inside a Container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#altering-a-container-on-cirrus" class="md-nav__link">
    <span class="md-ellipsis">
      Altering a Container on Cirrus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using the Cirrus GPU Nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solidstate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solid state storage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software Applications
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Software Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/castep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Castep
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/cp2k/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CP2K
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/elements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ELEMENTS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/flacs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FLACS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gaussian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gaussian
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gromacs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GROMACS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/helyx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HELYX&reg;
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/lammps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LAMMPS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/MATLAB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MATLAB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/namd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NAMD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/openfoam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenFOAM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/orca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ORCA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/qe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quantum Espresso (QE)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/starccm%2B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    STAR-CCM+
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/vasp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VASP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software Libraries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Software Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/intel_mkl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intel MKL: BLAS, LAPACK, ScaLAPACK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hdf5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HDF5
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Software Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/forge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linaro Forge
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/scalasca/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profiling using Scalasca
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/intel-vtune/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intel VTune
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References and further reading
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#useful-links" class="md-nav__link">
    <span class="md-ellipsis">
      Useful Links
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#about-singularity-containers-images" class="md-nav__link">
    <span class="md-ellipsis">
      About Singularity Containers (Images)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-singularity-images-on-cirrus" class="md-nav__link">
    <span class="md-ellipsis">
      Using Singularity Images on Cirrus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Singularity Images on Cirrus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-existing-images-onto-cirrus" class="md-nav__link">
    <span class="md-ellipsis">
      Getting existing images onto Cirrus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-login-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the login nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-use-on-the-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive use on the compute nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serial-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Serial processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallel-processes-within-a-non-interactive-batch-script" class="md-nav__link">
    <span class="md-ellipsis">
      Parallel processes within a non-interactive batch script
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-your-own-singularity-images" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Your Own Singularity Images
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Your Own Singularity Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-singularity-on-your-local-machine" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Singularity on Your Local Machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-cirrus-modules-from-inside-a-container" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Cirrus Modules from Inside a Container
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#altering-a-container-on-cirrus" class="md-nav__link">
    <span class="md-ellipsis">
      Altering a Container on Cirrus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="singularity-containers">Singularity Containers</h1>
<p>This page was originally based on the documentation at the <a href="http://docs.hpc.shef.ac.uk/en/latest/sharc/software/apps/singularity.html">University
of Sheffield HPC
service</a>.</p>
<p>Designed around the notion of mobility of compute and reproducible
science, Singularity enables users to have full control of their
operating system environment. This means that a non-privileged user can
"swap out" the Linux operating system and environment on the host for a
Linux OS and environment that they control. So if the host system is
running CentOS Linux but your application runs in Ubuntu Linux with a
particular software stack, you can create an Ubuntu image, install your
software into that image, copy the image to another host (e.g. Cirrus),
and run your application on that host in its native Ubuntu environment.</p>
<p>Singularity also allows you to leverage the resources of whatever host
you are on. This includes high-speed interconnects (e.g. Infiniband),
file systems (e.g. Lustre) and potentially other resources (such as the
licensed Intel compilers on Cirrus).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Singularity only supports Linux containers. You cannot create images
that use Windows or macOS (this is a restriction of the containerisation
model rather than of Singularity).</p>
</div>
<h2 id="useful-links">Useful Links</h2>
<ul>
<li><a href="https://www.sylabs.io/">Singularity website</a></li>
<li><a href="https://www.sylabs.io/docs/">Singularity documentation archive</a></li>
</ul>
<h2 id="about-singularity-containers-images">About Singularity Containers (Images)</h2>
<p>Similar to Docker, a Singularity container (or, more commonly, <em>image</em>)
is a self-contained software stack. As Singularity does not require a
root-level daemon to run its images (as is required by Docker) it is
suitable for use on a multi-user HPC system such as Cirrus. Within the
container/image, you have exactly the same permissions as you do in a
standard login session on the system.</p>
<p>In principle, this means that an image created on your local machine
with all your research software installed for local development will
also run on Cirrus.</p>
<p>Pre-built images (such as those on <a href="http://hub.docker.com">DockerHub</a> or
<a href="https://singularity-hub.org/">SingularityHub</a>) can simply be downloaded
and used on Cirrus (or anywhere else Singularity is installed); see
<code>use_image_singularity</code>).</p>
<p>Creating and modifying images requires root permission and so must be
done on a system where you have such access (in practice, this is
usually within a virtual machine on your laptop/workstation); see
<code>create_image_singularity</code>.</p>
<h2 id="using-singularity-images-on-cirrus">Using Singularity Images on Cirrus</h2>
<p>Singularity images can be used on Cirrus in a number of ways.</p>
<ol>
<li>Interactively on the login nodes</li>
<li>Interactively on compute nodes</li>
<li>As serial processes within a non-interactive batch script</li>
<li>As parallel processes within a non-interactive batch script</li>
</ol>
<p>We provide information on each of these scenarios. First, we describe
briefly how to get existing images onto Cirrus so that you can use them.</p>
<h3 id="getting-existing-images-onto-cirrus">Getting existing images onto Cirrus</h3>
<p>Singularity images are simply files, so if you already have an image
file, you can use <code>scp</code> to copy the file to Cirrus as you would with any
other file.</p>
<p>If you wish to get a file from one of the container image repositories
then Singularity allows you to do this from Cirrus itself.</p>
<p>For example, to retrieve an image from SingularityHub on Cirrus we can
simply issue a Singularity command to pull the image.</p>
<pre><code>[user@cirrus-login1 ~]$ module load singularity
[user@cirrus-login1 ~]$ singularity pull hello-world.sif shub://vsoch/hello-world
</code></pre>
<p>The image located at the <code>shub</code> URI is written to a Singularity Image
File (SIF) called <code>hello-world.sif</code>.</p>
<h3 id="interactive-use-on-the-login-nodes">Interactive use on the login nodes</h3>
<p>The container represented by the image file can be run on the login node
like so.</p>
<pre><code>[user@cirrus-login1 ~]$ singularity run hello-world.sif 
RaawwWWWWWRRRR!! Avocado!
[user@cirrus-login1 ~]$
</code></pre>
<p>We can also <code>shell</code> into the container.</p>
<pre><code>[user@cirrus-login1 ~]$ singularity shell hello-world.sif
Singularity&gt; ls /
bin  boot  dev  environment  etc  home  lib  lib64  lustre  media  mnt  opt  proc  rawr.sh  root  run  sbin  singularity  srv  sys  tmp  usr  var
Singularity&gt; exit
exit
[user@cirrus-login1 ~]$
</code></pre>
<p>For more information see the <a href="https://www.sylabs.io/guides/3.7/user-guide">Singularity
documentation</a>.</p>
<h3 id="interactive-use-on-the-compute-nodes">Interactive use on the compute nodes</h3>
<p>The process for using an image interactively on the compute nodes is
very similar to that for using them on the login nodes. The only
difference is that you first have to submit an interactive serial job to
get interactive access to the compute node.</p>
<p>First though, move to a suitable location on <code>/work</code> and re-pull the
<code>hello-world</code> image. This step is necessary as the compute nodes do not
have access to the <code>/home</code> file system.</p>
<pre><code>[user@cirrus-login1 ~]$ cd ${HOME/home/work}
[user@cirrus-login1 ~]$ singularity pull hello-world.sif shub://vsoch/hello-world
</code></pre>
<p>Now reserve a full node to work on interactively by issuing an <code>salloc</code>
command, see below.</p>
<pre><code>[user@cirrus-login1 ~]$ salloc --exclusive --nodes=1 \
  --tasks-per-node=36 --cpus-per-task=1 --time=00:20:00 \
  --partition=standard --qos=standard --account=[budget code] 
salloc: Pending job allocation 14507
salloc: job 14507 queued and waiting for resources
salloc: job 14507 has been allocated resources
salloc: Granted job allocation 14507
salloc: Waiting for resource configuration
salloc: Nodes r1i0n8 are ready for job
[user@cirrus-login1 ~]$ ssh r1i0n8
</code></pre>
<p>Note the prompt has changed to show you are on a compute node. Once you
are logged in to the compute node (you may need to submit your account
password), move to a suitable location on <code>/work</code> as before. You can now
use the <code>hello-world</code> image in the same way you did on the login node.</p>
<pre><code>[user@r1i0n8 ~]$ cd ${HOME/home/work}
[user@r1i0n8 ~]$ singularity shell hello-world.sif
Singularity&gt; exit
exit
[user@r1i0n8 ~]$ exit
logout
Connection to r1i0n8 closed.
[user@cirrus-login1 ~]$ exit
exit
salloc: Relinquishing job allocation 14507
salloc: Job allocation 14507 has been revoked.
[user@cirrus-login1 ~]$
</code></pre>
<p>Note we used <code>exit</code> to leave the interactive container shell and then
called <code>exit</code> twice more to close the interactive job on the compute
node.</p>
<h3 id="serial-processes-within-a-non-interactive-batch-script">Serial processes within a non-interactive batch script</h3>
<p>You can also use Singularity images within a non-interactive batch
script as you would any other command. If your image contains a
<em>runscript</em> then you can use <code>singularity run</code> to execute the runscript
in the job. You can also use <code>singularity exec</code> to execute arbitrary
commands (or scripts) within the image.</p>
<p>An example job submission script to run a serial job that executes the
runscript within the <code>hello-world.sif</code> we built above on Cirrus would be
as follows.</p>
<pre><code>#!/bin/bash --login

# job options (name, compute nodes, job time)
#SBATCH --job-name=hello-world
#SBATCH --ntasks=1
#SBATCH --exclusive
#SBATCH --time=0:20:0
#SBATCH --partition=standard
#SBATCH --qos=standard

# Replace [budget code] below with your project code (e.g. t01)
#SBATCH --account=[budget code]

# Load any required modules
module load singularity

# Run the serial executable
srun --cpu-bind=cores singularity run ${HOME/home/work}/hello-world.sif
</code></pre>
<p>Submit this script using the <code>sbatch</code> command and once the job has
finished, you should see <code>RaawwWWWWWRRRR!! Avocado!</code> in the Slurm output
file.</p>
<h3 id="parallel-processes-within-a-non-interactive-batch-script">Parallel processes within a non-interactive batch script</h3>
<p>Running a Singularity container on the compute nodes isn't too different
from launching a normal parallel application. The submission script
below shows that the <code>srun</code> command now contains an additional
<code>singularity</code> clause.</p>
<pre><code>#!/bin/bash --login

# job options (name, compute nodes, job time)
#SBATCH --job-name=[name of application]
#SBATCH --nodes=4
#SBATCH --tasks-per-node=36
#SBATCH --cpus-per-task=1
#SBATCH --exclusive
#SBATCH --time=0:20:0
#SBATCH --partition=standard
#SBATCH --qos=standard

# Replace [budget code] below with your project code (e.g. t01)
#SBATCH --account=[budget code]

# Load any required modules
module load mpt
module load singularity

# The host bind paths for the Singularity container.
BIND_ARGS=/work/y07/shared/cirrus-software,/opt/hpe,/etc/libibverbs.d,/path/to/input/files

# The file containing environment variable settings that will allow
# the container to find libraries on the host, e.g., LD_LIBRARY_PATH . 
ENV_PATH=/path/to/container/environment/file

CONTAINER_PATH=/path/to/singularity/image/file

APP_PATH=/path/to/containerized/application/executable
APP_PARAMS=[application parameters]

srun --distribution=block:block --hint=nomultithread \
    singularity exec --bind ${BIND_ARGS} --env-file ${ENV_PATH} ${IMAGE_PATH}
        ${APP_PATH} ${APP_PARAMS}
</code></pre>
<p>The script above runs a containerized application such that each of the
four nodes requested is fully populated. In general, the containerized
application's input and output will be read from and written to a
location on the host; hence, it is necessary to pass a suitable bind
path to singularity (<code>/path/to/input/files</code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The paths in the submission script that begin <code>/path/to</code> should be
provided by the user. All but one of these paths are host specific. The
exception being <code>APP_PATH</code>, which should be given a path relative to the
container file system.</p>
</div>
<p>If the Singularity image file was built according to the <a href="https://sylabs.io/guides/3.7/user-guide/mpi.html#bind-model">Bind
model</a>, you
will need to specify certain paths (<code>--bind</code>) and environment variables
(<code>--env-file</code>) that allow the containerized application to find the
required MPI libraries.</p>
<p>Otherwise, if the image follows the <a href="https://sylabs.io/guides/3.7/user-guide/mpi.html#hybrid-model">Hybrid
model</a>
and so contains its own MPI implementation, you instead need to be sure
that the containerized MPI is compatible with the host MPI, the one
loaded in the submission script. In the example above, the host MPI is
HPE MPT 2.25, but you could also use OpenMPI (with <code>mpirun</code>), either by
loading a suitable <code>openmpi</code> module or by referencing the paths to an
OpenMPI installation that was built locally (i.e., within your Cirrus
work folder).</p>
<h2 id="creating-your-own-singularity-images">Creating Your Own Singularity Images</h2>
<p>You can create Singularity images by importing from DockerHub or
Singularity Hub directly to Cirrus. If you wish to create your own
custom image then you must install Singularity on a system where you
have root (or administrator) privileges - often your own laptop or
workstation.</p>
<p>We provide links below to instructions on how to install Singularity
locally and then cover what options you need to include in a Singularity
definition file in order to create images that can run on Cirrus and
access the software development modules. This can be useful if you want
to create a custom environment but still want to compile and link
against libraries that you only have access to on Cirrus such as the
Intel compilers and HPE MPI libraries.</p>
<h3 id="installing-singularity-on-your-local-machine">Installing Singularity on Your Local Machine</h3>
<p>You will need Singularity installed on your machine in order to locally
run, create and modify images. How you install Singularity on your
laptop/workstation depends on the operating system you are using.</p>
<p>If you are using Windows or macOS, the simplest solution is to use
<a href="http://www.vagrantup.com">Vagrant</a> to give you an easy to use virtual
environment with Linux and Singularity installed. The Singularity
website has instructions on how to use this method to install
Singularity.</p>
<ul>
<li><a href="https://sylabs.io/guides/3.7/admin-guide/installation.html#mac">Installing Singularity on macOS with
  Vagrant</a></li>
<li><a href="https://sylabs.io/guides/3.7/admin-guide/installation.html#windows">Installing Singularity on Windows with
  Vagrant</a></li>
</ul>
<p>If you are using Linux then you can usually install Singularity
directly.</p>
<ul>
<li><a href="https://sylabs.io/guides/3.7/admin-guide/installation.html#installation-on-linux">Installing Singularity on
  Linux</a></li>
</ul>
<h3 id="accessing-cirrus-modules-from-inside-a-container">Accessing Cirrus Modules from Inside a Container</h3>
<p>You may want your custom image to be able to access the modules
environment on Cirrus so you can make use of custom software that you
cannot access elsewhere. We demonstrate how to do this for a CentOS 7
image but the steps are easily translated for other flavours of Linux.</p>
<p>For the Cirrus modules to be available in your Singularity container you
need to ensure that the <code>environment-modules</code> package is installed in
your image.</p>
<p>In addition, when you use the container you must invoke access as a
login shell to have access to the module commands.</p>
<p>Below, is an example Singularity definition file that builds a CentOS 7
image with access to TCL modules already installed on Cirrus.</p>
<pre><code>BootStrap: docker
From: centos:centos7

%post
    yum update -y
    yum install environment-modules -y
    echo 'module() { eval `/usr/bin/modulecmd bash $*`; }' &gt;&gt; /etc/bashrc
    yum install wget -y
    yum install which -y
    yum install squashfs-tools -y
</code></pre>
<p>If we save this definition to a file called <code>centos7.def</code>, we can use
the following <code>build</code> command to build the image (remember this command
must be run on a system where you have root access, not on Cirrus).</p>
<pre><code>me@my-system:~&gt; sudo singularity build centos7.sif centos7.def
</code></pre>
<p>The resulting image file (<code>centos7.sif</code>) can then be copied to Cirrus
using scp; such an image already exists on Cirrus and can be found in
the <code>/work/y07/shared/cirrus-software/singularity/images</code> folder.</p>
<p>When you use that image interactively on Cirrus you must start with a
login shell and also bind <code>/work/y07/shared/cirrus-software</code> so that the container
can see all the module files, see below.</p>
<pre><code>[user@cirrus-login1 ~]$ module load singularity
[user@cirrus-login1 ~]$ singularity exec -B /work/y07/shared/cirrus-software \
  /work/y07/shared/cirrus-software/singularity/images/centos7.sif \
    /bin/bash --login
Singularity&gt; module avail intel-*/compilers

--------- /work/y07/shared/cirrus-modulefiles -------------
intel-19.5/compilers  intel-20.4/compilers
Singularity&gt; exit
logout
[user@cirrus-login1 ~]$
</code></pre>
<h3 id="altering-a-container-on-cirrus">Altering a Container on Cirrus</h3>
<p>A container image file is immutable but it is possible to alter the
image if you convert the file to a sandbox. The sandbox is essentially a
directory on the host system that contains the full container file
hierarchy.</p>
<p>You first run the <code>singularity build</code> command to perform the conversion
followed by a <code>shell</code> command with the <code>--writable</code> option. You are now
free to change the files inside the container sandbox.</p>
<pre><code>user@cirrus-login1 ~]$ singularity build --sandbox image.sif.sandbox image.sif
user@cirrus-login1 ~]$ singularity shell -B /work/y07/shared/cirrus-software --writable image.sif.sandbox
Singularity&gt;
</code></pre>
<p>In the example above, the <code>/work/y07/shared/cirrus-software</code> bind path is specified, allowing
you to build code that links to the Cirrus module libraries.</p>
<p>Finally, once you are finished with the sandbox you can exit and convert
back to the original image file.</p>
<pre><code>Singularity&gt; exit
exit
user@cirrus-login1 ~]$ singularity build --force image.sif image.sif.sandbox
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Altering a container in this way will cause the associated definition
file to be out of step with the current image. Care should be taken to
keep a record of the commands that were run within the sandbox so that
the image can be reproduced.</p>
</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/EPCCed" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>