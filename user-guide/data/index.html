
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../connecting/">
      
      
        <link rel="next" href="../resource_management/">
      
      
      <link rel="icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>Data Management and Transfer - Cirrus User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/cirrus.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-3T9RVR5FTP"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-3T9RVR5FTP",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-3T9RVR5FTP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-management-and-transfer" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Cirrus User Documentation" class="md-header__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cirrus User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Management and Transfer
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cirrus User Documentation" class="md-nav__button md-logo" aria-label="Cirrus User Documentation" data-md-component="logo">
      
  <img src="../../images/cirrus_logo_white-Transparent-Background.png" alt="logo">

    </a>
    Cirrus User Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EPCCed/cirrus-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    EPCCed/cirrus-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../e1000-migration" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cirrus migration to E1000 system
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecting to Cirrus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Data Management and Transfer
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Data Management and Transfer
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cirrus-file-systems-and-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Cirrus file systems and storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cirrus file systems and storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#home-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Home file system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Home file system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quotas-on-home-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Quotas on home file system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-the-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      From the command line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#work-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Work file system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Work file system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quotas-on-the-work-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Quotas on the work file system
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solid-state-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Solid state storage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-cirrus-data-from-before-march-2022" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Cirrus data from before March 2022
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archiving" class="md-nav__link">
    <span class="md-ellipsis">
      Archiving
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Archiving">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tar" class="md-nav__link">
    <span class="md-ellipsis">
      tar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zip" class="md-nav__link">
    <span class="md-ellipsis">
      zip
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-transfer" class="md-nav__link">
    <span class="md-ellipsis">
      Data transfer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data transfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before you start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Data Transfer via SSH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-transfer-performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Transfer Performance Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scp-command" class="md-nav__link">
    <span class="md-ellipsis">
      scp command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rsync-command" class="md-nav__link">
    <span class="md-ellipsis">
      rsync command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-using-rclone" class="md-nav__link">
    <span class="md-ellipsis">
      Data transfer using rclone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-using-globus" class="md-nav__link">
    <span class="md-ellipsis">
      Data transfer using Globus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File and Resource Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Development Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Jobs on Cirrus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../singularity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Singularity Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the Cirrus GPU Nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solidstate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solid state storage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Applications
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Software Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/castep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Castep
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/cp2k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CP2K
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/elements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ELEMENTS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/flacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FLACS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gaussian/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gaussian
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/gromacs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GROMACS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/helyx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HELYX&reg;
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/lammps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LAMMPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/MATLAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MATLAB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/namd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NAMD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/openfoam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenFOAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/orca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ORCA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/qe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quantum Espresso (QE)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/starccm%2B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    STAR-CCM+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-packages/vasp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VASP
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Software Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/intel_mkl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intel MKL: BLAS, LAPACK, ScaLAPACK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-libraries/hdf5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HDF5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Software Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/ddt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging using Linaro DDT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/scalasca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling using Scalasca
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software-tools/intel-vtune/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intel VTune
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References and further reading
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cirrus-file-systems-and-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Cirrus file systems and storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cirrus file systems and storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#home-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Home file system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Home file system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quotas-on-home-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Quotas on home file system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-the-command-line" class="md-nav__link">
    <span class="md-ellipsis">
      From the command line
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#work-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Work file system
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Work file system">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quotas-on-the-work-file-system" class="md-nav__link">
    <span class="md-ellipsis">
      Quotas on the work file system
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solid-state-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Solid state storage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-cirrus-data-from-before-march-2022" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing Cirrus data from before March 2022
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#archiving" class="md-nav__link">
    <span class="md-ellipsis">
      Archiving
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Archiving">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tar" class="md-nav__link">
    <span class="md-ellipsis">
      tar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zip" class="md-nav__link">
    <span class="md-ellipsis">
      zip
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-transfer" class="md-nav__link">
    <span class="md-ellipsis">
      Data transfer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data transfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before you start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Data Transfer via SSH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-transfer-performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      SSH Transfer Performance Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scp-command" class="md-nav__link">
    <span class="md-ellipsis">
      scp command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rsync-command" class="md-nav__link">
    <span class="md-ellipsis">
      rsync command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-using-rclone" class="md-nav__link">
    <span class="md-ellipsis">
      Data transfer using rclone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-transfer-using-globus" class="md-nav__link">
    <span class="md-ellipsis">
      Data transfer using Globus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="data-management-and-transfer">Data Management and Transfer</h1>
<p>This section covers the storage and file systems available on the
system; the different ways that you can transfer data to and from
Cirrus; and how to transfer backed up data from prior to the March 2022
Cirrus upgrade.</p>
<p>In all cases of data transfer, users should use the Cirrus login nodes.</p>
<h2 id="cirrus-file-systems-and-storage">Cirrus file systems and storage</h2>
<p>The Cirrus service, like many HPC systems, has a complex structure.
There are a number of different data storage types available to users:</p>
<ul>
<li>Home file system</li>
<li>Work file systems</li>
<li>Solid state storage</li>
</ul>
<p>Each type of storage has different characteristics and policies, and is
suitable for different types of use.</p>
<p>There are also two different types of node available to users:</p>
<ul>
<li>Login nodes</li>
<li>Compute nodes</li>
</ul>
<p>Each type of node sees a different combination of the storage types. The
following table shows which storage options are available on different
node types:</p>
<table>
<thead>
<tr>
<th>Storage</th>
<th>Login nodes</th>
<th>Compute nodes</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Home</td>
<td>yes</td>
<td>no</td>
<td>No backup</td>
</tr>
<tr>
<td>Work</td>
<td>yes</td>
<td>yes</td>
<td>No backup</td>
</tr>
<tr>
<td>Solid state</td>
<td>yes</td>
<td>yes</td>
<td>No backup</td>
</tr>
</tbody>
</table>
<h3 id="home-file-system">Home file system</h3>
<p>Every project has an allocation on the home file system and your
project's space can always be accessed via the path
<code>/home/[project-code]</code>. The home file system is approximately 1.5 PB in
size and is implemented using the Ceph technology. This means that this
storage is not particularly high performance but are well suited to
standard operations like compilation and file editing. This file systems
is visible from the Cirrus login nodes.</p>
<p>There are currently no backups of any data on the home file system.</p>
<h4 id="quotas-on-home-file-system">Quotas on home file system</h4>
<p>All projects are assigned a quota on the home file system. The project
PI or manager can split this quota up between groups of users if they
wish.</p>
<p>You can view any home file system quotas that apply to your account by
logging into SAFE and navigating to the page for your Cirrus login
account.</p>
<ol>
<li><a href="https://safe.epcc.ed.ac.uk">Log into SAFE</a></li>
<li>Use the "Login accounts" menu and select your Cirrus login account</li>
<li>The "Login account details" table lists any user or group quotas
    that are linked with your account. (If there is no quota shown for a
    row then you have an unlimited quota for that item, but you may
    still may be limited by another quota.)</li>
</ol>
<p>Quota and usage data on SAFE is updated twice daily so may not be
exactly up to date with the situation on the system itself.</p>
<h4 id="from-the-command-line">From the command line</h4>
<p>Some useful information on the current contents of directories on the
<code>/home</code> file system is available from the command line by using the Ceph
command <code>getfattr</code>. This is to be preferred over standard Unix commands
such as <code>du</code> for reasons of efficiency.</p>
<p>For example, the number of entries (files plus directories) in a home
directory can be queried via</p>
<pre><code>$ cd
$ getfattr -n ceph.dir.entries .
# file: .
ceph.dir.entries="33"
</code></pre>
<p>The corresponding attribute <code>rentries</code> gives the recursive total in all
subdirectories, that is, the total number of files and directories:</p>
<pre><code>$ getfattr -n ceph.dir.rentries .
# file: .
ceph.dir.rentries="1619179"
</code></pre>
<p>Other useful attributes (all prefixed with <code>ceph.dir.</code>) include <code>files</code>
which is the number of ordinary files, <code>subdirs</code> the number of
subdirectories, and <code>bytes</code> the total number of bytes used. All these
have a corresponding recursive version, respectively: <code>rfiles</code>,
<code>rsubdirs</code>, and <code>rbytes</code>.</p>
<p>A full path name can be specified if required.</p>
<h3 id="work-file-system">Work file system</h3>
<p>Every project has an allocation on the work file system and your
project's space can always be accessed via the path
<code>/work/[project-code]</code>. The work file system is approximately 400 TB in
size and is implemented using the Lustre parallel file system
technology. They are designed to support data in large files. The
performance for data stored in large numbers of small files is probably
not going to be as good.</p>
<p>There are currently no backups of any data on the work file system.</p>
<p>Ideally, the work file system should only contain data that is:</p>
<ul>
<li>actively in use;</li>
<li>recently generated and in the process of being saved elsewhere; or</li>
<li>being made ready for up-coming work.</li>
</ul>
<p>In practice it may be convenient to keep copies of datasets on the work
file system that you know will be needed at a later date. However, make
sure that important data is always backed up elsewhere and that your
work would not be significantly impacted if the data on the work file
system was lost.</p>
<p>If you have data on the work file system that you are not going to need
in the future please delete it.</p>
<h4 id="quotas-on-the-work-file-system">Quotas on the work file system</h4>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The capacity of the home file system is much larger than the work file system so you should store most data on home and only move data to work that you need for current running work.</p>
</div>
<p>As for the home file system, all projects are assigned a quota on the
work file system. The project PI or manager can split this quota up
between groups of users if they wish.</p>
<p>You can view any work file system quotas that apply to your account by
logging into SAFE and navigating to the page for your Cirrus login
account.</p>
<ol>
<li><a href="https://safe.epcc.ed.ac.uk">Log into SAFE</a></li>
<li>Use the "Login accounts" menu and select your Cirrus login account</li>
<li>The "Login account details" table lists any user or group quotas
    that are linked with your account. (If there is no quota shown for a
    row then you have an unlimited quota for that item, but you may
    still may be limited by another quota.)</li>
</ol>
<p>Quota and usage data on SAFE is updated twice daily so may not be
exactly up to date with the situation on the system itself.</p>
<p>You can also examine up to date quotas and usage on the Cirrus system
itself using the <code>lfs quota</code> command. To do this:</p>
<p>Change directory to the work directory where you want to check the
quota. For example, if I wanted to check the quota for user <code>auser</code> in
project <code>t01</code> then I would:</p>
<pre><code>[auser@cirrus-login1 auser]$ cd /work/t01/t01/auser

[auser@cirrus-login1 auser]$ lfs quota -hu auser .
Disk quotas for usr auser (uid 68826):
     Filesystem    used   quota   limit   grace   files   quota   limit   grace
              .  5.915G      0k      0k       -   51652       0       0       -
uid 68826 is using default block quota setting
uid 68826 is using default file quota setting
</code></pre>
<p>the quota and limit of 0k here indicate that no user quota is set for
this user.</p>
<p>To check your project (group) quota, you would use the command:</p>
<pre><code>[auser@cirrus-login1 auser]$ lfs quota -hg t01 .
Disk quotas for grp t01 (gid 37733):
     Filesystem    used   quota   limit   grace   files   quota   limit   grace
           .  958.3G      0k  13.57T       - 1427052       0       0       -
gid 37733 is using default file quota setting
</code></pre>
<p>the limit of <code>13.57T</code> indicates the quota for the group.</p>
<h3 id="solid-state-storage">Solid state storage</h3>
<p>More information on using the solid state storage can be found in the
<code>/user-guide/solidstate</code> section of the user guide.</p>
<p>The solid state storage is not backed up.</p>
<h2 id="accessing-cirrus-data-from-before-march-2022">Accessing Cirrus data from before March 2022</h2>
<p>Prior to the March 2022 Cirrus upgrade,all user date on the <code>/lustre/sw</code>
filesystem was archived. Users can access their archived data from the
Cirrus login nodes in the <code>/home-archive</code> directory. Assuming you are
user <code>auser</code> from project <code>x01</code>, your pre-rebuild archived data can be
found in:</p>
<pre><code>/home-archive/x01/auser
</code></pre>
<p>The data in the <code>/home-archive</code> file system is <strong>read only</strong> meaning
that you will not be able to create, edit, or copy new information to
this file system.</p>
<p>To make archived data visible from the compute nodes, you will need to
copy the data from the <code>/home-archive</code> file system to the <code>/home</code> file
system. Assuming again that you are user <code>auser</code> from project <code>x01</code> and
that you were wanting to copy data from
<code>/home-archive/x01/auser/directory_to_copy</code> to
<code>/home/x01/x01/auser/destination_directory</code>, you would do this by
running:</p>
<pre><code>cp -r /home-archive/x01/auser/directory_to_copy \
   /home/x01/x01/auser/destination_directory
</code></pre>
<p>Note that the project code appears once in the path for the old home
archive and twice in the path on the new /home file system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The capacity of the home file system is much larger than the work file system so you should move data to home rather than work.</p>
</div>
<h2 id="archiving">Archiving</h2>
<p>If you have related data that consists of a large number of small files
it is strongly recommended to pack the files into a larger "archive"
file for ease of transfer and manipulation. A single large file makes
more efficient use of the file system and is easier to move and copy and
transfer because significantly fewer meta-data operations are required.
Archive files can be created using tools like <code>tar</code> and <code>zip</code>.</p>
<h4 id="tar">tar</h4>
<p>The <code>tar</code> command packs files into a "tape archive" format. The command
has general form:</p>
<pre><code>tar [options] [file(s)]
</code></pre>
<p>Common options include:</p>
<ul>
<li><code>-c</code> create a new archive</li>
<li><code>-v</code> verbosely list files processed</li>
<li><code>-W</code> verify the archive after writing</li>
<li><code>-l</code> confirm all file hard links are included in the archive</li>
<li><code>-f</code> use an archive file (for historical reasons, tar writes its
     output to stdout by default rather than a file).</li>
</ul>
<p>Putting these together:</p>
<pre><code>tar -cvWlf mydata.tar mydata
</code></pre>
<p>will create and verify an archive.</p>
<p>To extract files from a tar file, the option <code>-x</code> is used. For example:</p>
<pre><code>tar -xf mydata.tar
</code></pre>
<p>will recover the contents of <code>mydata.tar</code> to the current working
directory.</p>
<p>To verify an existing tar file against a set of data, the <code>-d</code> (diff)
option can be used. By default, no output will be given if a
verification succeeds and an example of a failed verification follows:</p>
<pre><code>$&gt; tar -df mydata.tar mydata/*
mydata/damaged_file: Mod time differs
mydata/damaged_file: Size differs
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>tar files do not store checksums with their data, requiring
the original data to be present during verification.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Further information on using <code>tar</code> can be found in the <code>tar</code> manual
(accessed via <code>man tar</code> or at <a href="https://linux.die.net/man/1/tar">man
tar</a>).</p>
</div>
<h4 id="zip">zip</h4>
<p>The zip file format is widely used for archiving files and is supported
by most major operating systems. The utility to create zip files can be
run from the command line as:</p>
<pre><code>zip [options] mydata.zip [file(s)]
</code></pre>
<p>Common options are:</p>
<ul>
<li><code>-r</code> used to zip up a directory</li>
<li><code>-#</code> where "#" represents a digit ranging from 0 to 9 to specify
     compression level, 0 being the least and 9 the most. Default
     compression is -6 but we recommend using -0 to speed up the
     archiving process.</li>
</ul>
<p>Together:</p>
<pre><code>zip -0r mydata.zip mydata
</code></pre>
<p>will create an archive.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unlike tar, zip files do not preserve hard links. File data will be
copied on archive creation, <em>e.g.</em> an uncompressed zip archive of a
100MB file and a hard link to that file will be approximately 200MB in
size. This makes zip an unsuitable format if you wish to precisely
reproduce the file system layout.</p>
</div>
<p>The corresponding <code>unzip</code> command is used to extract data from the
archive. The simplest use case is:</p>
<pre><code>unzip mydata.zip
</code></pre>
<p>which recovers the contents of the archive to the current working
directory.</p>
<p>Files in a zip archive are stored with a CRC checksum to help detect
data loss. <code>unzip</code> provides options for verifying this checksum against
the stored files. The relevant flag is <code>-t</code> and is used as follows:</p>
<pre><code>$&gt; unzip -t mydata.zip
Archive:  mydata.zip
    testing: mydata/                 OK
    testing: mydata/file             OK
No errors detected in compressed data of mydata.zip.
</code></pre>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Further information on using <code>zip</code> can be found in the <code>zip</code> manual
(accessed via <code>man zip</code> or at <a href="https://linux.die.net/man/1/zip">man
zip</a>).</p>
</div>
<h2 id="data-transfer">Data transfer</h2>
<h3 id="before-you-start">Before you start</h3>
<p>Read Harry Mangalam's guide on <a href="https://hjmangalam.wordpress.com/2009/09/14/how-to-transfer-large-amounts-of-data-via-network/">How to transfer large amounts of data
via
network</a>.
This tells you <em>all</em> you want to know about transferring data.</p>
<h3 id="data-transfer-via-ssh">Data Transfer via SSH</h3>
<p>The easiest way of transferring data to/from Cirrus is to use one of the
standard programs based on the SSH protocol such as <code>scp</code>, <code>sftp</code> or
<code>rsync</code>. These all use the same underlying mechanism (ssh) as you
normally use to login to Cirrus. So, once the command has been executed
via the command line, you will be prompted for your password for the
specified account on the <strong>remote machine</strong>.</p>
<p>To avoid having to type in your password multiple times you can set up a
<em>ssh-key</em> as documented in the User Guide at <code>connecting</code></p>
<h3 id="ssh-transfer-performance-considerations">SSH Transfer Performance Considerations</h3>
<p>The ssh protocol encrypts all traffic it sends. This means that
file-transfer using ssh consumes a relatively large amount of CPU time
at both ends of the transfer. The encryption algorithm used is
negotiated between the ssh-client and the ssh-server. There are command
line flags that allow you to specify a preference for which encryption
algorithm should be used. You may be able to improve transfer speeds by
requesting a different algorithm than the default. The <em>arcfour</em>
algorithm is usually quite fast assuming both hosts support it.</p>
<p>A single ssh based transfer will usually not be able to saturate the
available network bandwidth or the available disk bandwidth so you may
see an overall improvement by running several data transfer operations
in parallel. To reduce metadata interactions it is a good idea to
overlap transfers of files from different directories.</p>
<p>In addition, you should consider the following when transferring data.</p>
<ul>
<li>Only transfer those files that are required. Consider which data you
  really need to keep.</li>
<li>Combine lots of small files into a single <em>tar</em> archive, to reduce the
  overheads associated in initiating many separate data transfers (over
  SSH each file counts as an individual transfer).</li>
<li>Compress data before sending it, e.g. using gzip.</li>
</ul>
<h3 id="scp-command">scp command</h3>
<p>The <code>scp</code> command creates a copy of a file, or if given the <code>-r</code> flag, a
directory, on a remote machine.</p>
<p>For example, to transfer files to Cirrus:</p>
<pre><code>scp [options] source user@login.cirrus.ac.uk:[destination]
</code></pre>
<p>(Remember to replace <code>user</code> with your Cirrus username in the example
above.)</p>
<p>In the above example, the <code>[destination]</code> is optional, as when left out
<code>scp</code> will simply copy the source into the user's home directory. Also
the <code>source</code> should be the absolute path of the file/directory being
copied or the command should be executed in the directory containing the
source file/directory.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If your local version of OpenSSL (the library underlying <code>scp</code>) is 
very new you may see errors transferring data to Cirrus using <code>scp</code> where the version
of OpenSSL is older. The errors typically look like
<code>scp: upload "mydata": path canonicalization failed</code>. You can get
around this issue by adding the <code>-O</code> option to <code>scp</code>.</p>
</div>
<p>If you want to request a different encryption algorithm add the
<code>-c [algorithm-name]</code> flag to the <code>scp</code> options. For example, to use the
(usually faster) <em>aes128-ctr</em> encryption algorithm you would use:</p>
<pre><code>scp [options] -c aes128-ctr source user@login.cirrus.ac.uk:[destination]
</code></pre>
<p>(Remember to replace <code>user</code> with your Cirrus username in the example
above.)</p>
<h3 id="rsync-command">rsync command</h3>
<p>The <code>rsync</code> command can also transfer data between hosts using a <code>ssh</code>
connection. It creates a copy of a file or, if given the <code>-r</code> flag, a
directory at the given destination, similar to <code>scp</code> above.</p>
<p>Given the <code>-a</code> option rsync can also make exact copies (including
permissions), this is referred to as <em>mirroring</em>. In this case the
<code>rsync</code> command is executed with ssh to create the copy on a remote
machine.</p>
<p>To transfer files to Cirrus using <code>rsync</code> the command should have the
form:</p>
<pre><code>rsync [options] -e ssh source user@login.cirrus.ac.uk:[destination]
</code></pre>
<p>(Remember to replace <code>user</code> with your Cirrus username in the example
above.)</p>
<p>In the above example, the <code>[destination]</code> is optional, as when left out
<code>rsync</code> will simply copy the source into the users home directory. Also
the <code>source</code> should be the absolute path of the file/directory being
copied or the command should be executed in the directory containing the
source file/directory.</p>
<p>Additional flags can be specified for the underlying <code>ssh</code> command by
using a quoted string as the argument of the <code>-e</code> flag. e.g.</p>
<pre><code>rsync [options] -e "ssh -c aes128-ctr" source user@login.cirrus.ac.uk:[destination]
</code></pre>
<p>(Remember to replace <code>user</code> with your Cirrus username in the example
above.)</p>
<h3 id="data-transfer-using-rclone">Data transfer using rclone</h3>
<p>Rclone is a command-line program to manage files on cloud storage. You can transfer files directly to/from cloud storage services, such as MS OneDrive and Dropbox. The program preserves timestamps and verifies checksums at all times.</p>
<p>First of all, you must download and unzip rclone on Cirrus:</p>
<pre><code>wget https://downloads.rclone.org/v1.62.2/rclone-v1.62.2-linux-amd64.zip
unzip rclone-v1.62.2-linux-amd64.zip
cd rclone-v1.62.2-linux-amd64/
</code></pre>
<p>The previous code snippet uses rclone v1.62.2, which was the latest version when these instructions were written.</p>
<p>Configure rclone using <code>./rclone config</code>. This will guide you through an interactive setup process where you can make a new remote (called <code>remote</code>). See the following for detailed instructions for:</p>
<ul>
<li><a href="https://rclone.org/onedrive/">Microsoft OneDrive</a></li>
<li><a href="https://rclone.org/dropbox/">Dropbox</a></li>
</ul>
<p>Please note that a token is required to connect from Cirrus to the cloud service. You need a web browser to get the token. The recommendation is to run rclone in your laptop using <code>rclone authorize</code>, get the token, and then copy the token from your laptop to Cirrus. The rclone website contains further instructions on <a href="https://rclone.org/remote_setup/">configuring rclone on a remote machine without web browser</a>.</p>
<p>Once all the above is done, you’re ready to go. If you want to copy a directory, please use:</p>
<pre><code>rclone copy &lt;cirrus_directory&gt; remote:&lt;cloud_directory&gt;
</code></pre>
<p>Please note that “remote” is the name that you have chosen when running rclone config`. To copy files, please use:</p>
<pre><code>rclone copyto &lt;cirrus_file&gt; remote:&lt;cloud_file&gt;
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the session times out while the data transfer takes place, adding the <code>-vv</code> flag to an rclone transfer forces rclone to output to the terminal and therefore avoids triggering the timeout process.</p>
</div>
<h3 id="data-transfer-using-globus">Data transfer using Globus</h3>
<p>The Cirrus <code>/work</code> filesystem, which is hosted on the e1000 fileserver, has a Globus Collection (formerly known as an endpoint) with the name <code>e1000-fs1 directories</code>   </p>
<p><a href="../globus">Full step-by-step guide for using Globus</a> to transfer files to/from Cirrus <code>/work</code></p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/EPCCed" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>